

<div class="container_info toping">

<%= form_for @help, url: helps_path, method: :post do |f| %>

<%= render 'layouts/error_messages', model: f.object %>

  <div class="form-group">
  	<%= f.text_field :title, placeholder: "ヘルプのタイトル" %>
  	<%= f.text_field :language, placeholder: "プログラミング技術に関連するタグ(スペースで区切る)" %>
  </div>
  <div class="form-group">
    <div id="editor">
		  <%= f.text_area :body, rows: 20, class: 'form-control', 'v-model' => "markdownText" %>
      <div v-html="compiledMarkdown" class="right_preview"></div>
    </div>
  </div>

  <div class="form-group row">
  	<div class="col-md-2 offset-md-10">
  		<%= f.submit "ヘルプ投稿する", class: "btn btn-success" %>
  	</div>
  </div>

<% end %>
</div>


<script>

    created: function () {
      marked.setOptions({
        langPrefix: '',
        highlight: function(code, lang) {
          return hljs.highlightAuto(code, [lang]).value
        }
      });
    },
    computed: {
      compiledMarkdown: function () {
        return marked(this.markdownText)
      }
    },
    data: function () {
      return {
        markdownText: ''
      }
    }
</script>
<style src='highlightjs/styles/github-gist.css'></style>
