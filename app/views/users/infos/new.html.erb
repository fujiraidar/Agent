

<div class="container_info">

<%= form_for @info, url: infos_path , method: :post do |f| %>

<%= render 'layouts/error_messages', model: f.object %>

  <div class="form-group">
  	<%= f.text_field :title, placeholder: "タイトル" %>
  	<%= f.text_field :language, placeholder: "プログラミング技術に関連するタグ(スペースで区切る)" %>
  </div>
  <div class="form-group">

      <div id='editor'>
        <%= f.text_area :body, rows: 20, class: 'form-control', "v-model" => "input", name: "info[body]" %>
        <div v-html='input | marked' class="right_preview"></div>
      </div>
  </div>

  <div class="form-group row">
    <div class="col-md-2 offset-md-8">
      <%= f.hidden_field :commit, value:"下書き保存" %>
      <%= f.submit "下書き保存", class: "btn btn-primary" %>
    </div>
  	<div class="col-md-2">
      <%= f.hidden_field :commit, value:"投稿する" %>
  		<%= f.submit "投稿する", class: "btn btn-success" %>
  	</div>
  </div>

<% end %>

<pre><code>&lt;
  $text = &quot;Hello World!!&quot; ;
  echo $text ;
</code></pre>

</div>

<script>

  (function() {
  marked.setOptions({
      langPrefix: '',
      highlight: function(code, lang) {
          return hljs.highlightAuto(code, [lang]).value;
      }
  });
  new Vue({
      el: '#editor',
      data: {
          input: '<%= j @info.body %>',
      },
      filters: {
          marked: marked
      }
  })
  }).call(this);
</script>
<style src='app/aseets/stylesheets/tomorrow-night.scss'></style>

